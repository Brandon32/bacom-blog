version: 1

indices:
  blog-us:
    include:
      - '/blog/'
      - '/blog/actualites/**'
      - '/blog/basics/**'
      - '/blog/fragments/**'
      - '/blog/grundlagen/**'
      - '/blog/how-to/**'
      - '/blog/neues/**'
      - '/blog/perspectives/**'
      - '/blog/perspektiven/**'
      - '/blog/the-latest/**'
      - '/blog/topic/**'
      - '/blog/trends/**'
    exclude:
      - '**/fragments/**'
      - '**/drafts/**'
    target: /query-index.xlsx
    properties: &minProps
      author:
        select: head > meta[name="author"]
        value: |
          attribute(el, 'content')
      title:
        select: head > meta[property="og:title"]
        value: |
          attribute(el, 'content')
      h1:
        select: main h1
        value: |
          textContent(el)
      date:
        select: head > meta[name="publication-date"]
        value: |
          dateValue(attribute(el, 'content'), 'MM-DD-YYYY')
      image:
        select: head > meta[property="og:image"]
        value: |
          match(attribute(el, 'content'), 'https:\/\/[^/]+(\/.*)')
      imageAlt:
        select: head > meta[property="og:image:alt"]
        value: |
          attribute(el, 'content')
      description:
        select: head > meta[name="description"]
        value: |
          attribute(el, 'content')
      category:
        select: head > meta[name="category"]
        value: |
          attribute(el, 'content')
      tags:
        select: head > meta[property="article:tag"]
        values: |
          attribute(el, 'content')
      robots:
        select: head > meta[name="robots"]
        value: |
          attribute(el, 'content')
      lastModified:
        select: none
        value: |
          parseTimestamp(headers['last-modified'], 'ddd, DD MMM YYYY hh:mm:ss GMT')
  
  blog-uk:
    include:
      - '/uk/blog/'
      - '/uk/blog/actualites/**'
      - '/uk/blog/basics/**'
      - '/uk/blog/fragments/**'
      - '/uk/blog/grundlagen/**'
      - '/uk/blog/how-to/**'
      - '/uk/blog/neues/**'
      - '/uk/blog/perspectives/**'
      - '/uk/blog/perspektiven/**'
      - '/uk/blog/the-latest/**'
      - '/uk/blog/topic/**'
      - '/uk/blog/trends/**'
    exclude:
      - '**/fragments/**'
      - '**/drafts/**'
    properties:
      <<: *minProps
    target: /uk/query-index.xlsx

  blog-au:
    include:
      - '/au/blog/'
      - '/au/blog/actualites/**'
      - '/au/blog/basics/**'
      - '/au/blog/auagments/**'
      - '/au/blog/grundlagen/**'
      - '/au/blog/how-to/**'
      - '/au/blog/neues/**'
      - '/au/blog/perspectives/**'
      - '/au/blog/perspektiven/**'
      - '/au/blog/the-latest/**'
      - '/au/blog/topic/**'
      - '/au/blog/trends/**'
    exclude:
      - '**/fragments/**'
      - '**/drafts/**'
    properties:
      <<: *minProps
    target: /au/query-index.xlsx

  fr:
    include:
      - '/fr/blog/'
      - '/fr/blog/actualites/**'
      - '/fr/blog/basics/**'
      - '/fr/blog/fragments/**'
      - '/fr/blog/grundlagen/**'
      - '/fr/blog/how-to/**'
      - '/fr/blog/neues/**'
      - '/fr/blog/perspectives/**'
      - '/fr/blog/perspektiven/**'
      - '/fr/blog/the-latest/**'
      - '/fr/blog/topic/**'
      - '/fr/blog/trends/**'
    exclude:
      - '**/fragments/**'
      - '**/drafts/**'
    properties:
      <<: *minProps
    target: /fr/query-index.xlsx

  blog-de:
    include:
      - '/de/blog/'
      - '/de/blog/actualites/**'
      - '/de/blog/basics/**'
      - '/de/blog/fragments/**'
      - '/de/blog/grundlagen/**'
      - '/de/blog/how-to/**'
      - '/de/blog/neues/**'
      - '/de/blog/perspectives/**'
      - '/de/blog/perspektiven/**'
      - '/de/blog/the-latest/**'
      - '/de/blog/topic/**'
      - '/de/blog/trends/**'
    exclude:
      - '**/fragments/**'
      - '**/drafts/**'
    properties:
      <<: *minProps
    target: /de/query-index.xlsx

  blog-jp:
    include:
      - '/uk/blog/'
      - '/uk/blog/actualites/**'
      - '/uk/blog/basics/**'
      - '/uk/blog/fragments/**'
      - '/uk/blog/grundlagen/**'
      - '/uk/blog/how-to/**'
      - '/uk/blog/neues/**'
      - '/uk/blog/perspectives/**'
      - '/uk/blog/perspektiven/**'
      - '/uk/blog/the-latest/**'
      - '/uk/blog/topic/**'
      - '/uk/blog/trends/**'
    exclude:
      - '**/fragments/**'
      - '**/drafts/**'
    properties:
      <<: *minProps
    target: /jp/query-index.xlsx

  blog-kr:
    include:
      - '/kr/blog/'
      - '/kr/blog/actualites/**'
      - '/kr/blog/basics/**'
      - '/kr/blog/fragments/**'
      - '/kr/blog/grundlagen/**'
      - '/kr/blog/how-to/**'
      - '/kr/blog/neues/**'
      - '/kr/blog/perspectives/**'
      - '/kr/blog/perspektiven/**'
      - '/kr/blog/the-latest/**'
      - '/kr/blog/topic/**'
      - '/kr/blog/trends/**'
    exclude:
      - '**/fragments/**'
      - '**/drafts/**'
    properties:
      <<: *minProps
    target: /kr/query-index.xlsx
